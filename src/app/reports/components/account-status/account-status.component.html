<div class="animated fadeIn">
  
    <h2 class="text-center">Estado de cuenta de cliente</h2>  
    <hr>
    <div class="container">
      <div class="row customer-info">
        <div class="col-md-4">
          <div class="form-group row">
              <div class="col-md-12">
                  <button (click)="showModalSearch('customer', 'Selecciona un cliente')" class="btn btn-outline-primary btn-block">Seleccionar cliente</button>
              </div>
          </div>
        </div>
        <div class="col-md-3">
            <div class="form-group row">
                <div class="col-md-1">
                  <label>ID</label>
                </div>
                <div class="col-md-9">
                  <input [ngModel]="customer.customer_id" type="text" class="form-control" placeholder="ID Cliente" disabled>
                </div>
            </div>
        </div>
        <div class="col-md-5">
            <div class="form-group row">
                <div class="col-md-3">
                  <label>Nombre</label>
                </div>
                <div class="col-md-9">
                  <input [value]="customer.name + ' ' + customer.lastname" type="text" class="form-control" placeholder="Nombre" disabled>
                </div>
            </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-5">
            <div class="form-group row">
                <div class="col-md-5">
                  <label>Estado de cuenta</label>
                </div>
                <div class="col-md-5">
                  <select (change)="setStateType($event.target.value)" class="form-control" name="debt">
                    <option *ngFor="let stateType of accountState"[value]="stateType.value">{{ stateType.option }}</option>
                  </select>
                </div>  
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group row">
                <div class="col-md-2">
                  <label>AÃ±o</label>
                </div>
                <div class="col-md-5">
                  <select (change)="setYear($event.target.value)" class="form-control" name="debt">
                    <option *ngFor="let year of years" [value]="year.value"> {{ year.option }} </option>
                  </select>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group row">
              <div class="col-md-12">
                <button [disabled]="!customer.customer_id" (click)="getStatusAccount()" class="btn btn-primary btn-block">Aceptar</button>
              </div>
            </div>
        </div>
      </div>
      <div class="row">
        <div *ngIf="tableData" class="col-md-12">
          <table class="table table-stripped">
            <thead>
              <th>Fecha</th>
              <th>Referencia</th>
              <th>Cargos</th>
              <th>Abonos</th>
            </thead>
            <tbody>
              <tr *ngFor="let data of tableData">
                <td> {{ data.date | date }} </td>
                <td *ngIf="data.charge === 0">
                  Abono ID: <strong>{{ data.reference }}</strong> 
                </td>
                <td *ngIf="data.payment === 0">
                  Venta ID: <strong>{{ data.reference }}</strong> 
                </td>
                <td> ${{ data.charge }} </td>
                <td> ${{ data.payment }} </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="row">
        <div class="col-md-10"></div>
        <div class="col-md-2">
          <button (click)="download()" *ngIf="isDownloadable" class="btn btn-block btn-primary">Descargar PDF</button>
          <button class="btn btn-block btn-success" *ngIf="isDownloadable" (click)="downloadCSV()"> Descargar CSV</button>
          
        </div>
      </div>
    </div>
</div>